---
title: Справочные материалы по командам подсистемы Windows для Linux
description: Список команд для управления подсистемой Windows для Linux.
keywords: BashOnWindows, bash, wsl, windows, подсистема windows для linux, windowssubsystem, ubuntu
ms.date: 07/31/2017
ms.topic: article
ms.assetid: 82908295-a6bd-483c-a995-613674c2677e
ms.custom: seodec18
ms.localizationpriority: high
ms.openlocfilehash: d74a6926fd797f2e1ede0fd5d8d080d0f1ce3f6b
ms.sourcegitcommit: 39d3a2f0f4184eaec8d8fec740aff800e8ea9ac7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/24/2020
ms.locfileid: "71269844"
---
# <a name="command-reference-for-windows-subsystem-for-linux"></a>Справочные материалы по командам подсистемы Windows для Linux

Лучший способ взаимодействовать с подсистемой Windows для Linux — использовать команду `wsl.exe`. 


## `wsl.exe`

Ниже приведен список, содержащий все параметры `wsl.exe` при использовании в Windows версии 1903.

Использование: `wsl [Argument] [Options...] [CommandLine]`

### <a name="arguments-for-running-linux-binaries"></a>Аргументы для выполнения двоичных файлов Linux

* **Без аргументов**

  Если командная строка не указана, wsl.exe запускает оболочку по умолчанию.

* **--exec, -e \<командная_строка>**
  
  Выполнение указанной команды без использования оболочки Linux по умолчанию.

* **--**
  
  Остальная часть командной строки передается "как есть".

Приведенные выше команды также принимают следующие параметры.

* **--distribution, -d \<дистрибутив>**

  Запуск указанного дистрибутива.

* **--user, -u \<имя_пользователя>**

  Выполнение от имени указанного пользователя.

### <a name="arguments-for-managing-windows-subsystem-for-linux"></a>Аргументы для управления подсистемой Windows для Linux

* **--export \<дистрибутив> \<имя_файла>**
  
  Экспорт дистрибутива в TAR-файл. Именем файла может быть "-" для стандартного вывода.

* **--import \<дистрибутив> \<расположение_установки> \<имя_файла>**
  
  Импорт указанного TAR-файла в качестве нового дистрибутива. Именем файла может быть "-" для стандартного ввода.

* **--list, -l [параметры]**
  
  Вывод списка дистрибутивов.

  Параметры:
  * **--all**
      
    Вывод списка всех дистрибутивов, включая дистрибутивы, которые сейчас устанавливаются или удаляются.

  * **--running**
      
    Вывод списка всех дистрибутивов, выполняемых в данный момент.

* **--set-default, -s \<дистрибутив>**
  
  Указание дистрибутива, используемого по умолчанию.

* **--terminate, -t \<дистрибутив>**
  
  Завершение указанного дистрибутива.

* **--unregister \<дистрибутив>**
  
  Отмена регистрации дистрибутива.
   
* **--help** отображает сведения об использовании.

## <a name="additional-commands"></a>Дополнительные команды

Доступны также устоявшиеся команды для взаимодействия с подсистемой Windows для Linux. Их функциональные возможности реализованы в `wsl.exe`, но эти команды по-прежнему можно использовать. 

### `wslconfig.exe`

Эта команда позволяет настроить дистрибутив WSL. Ниже приводится список ее параметров.

Использование: `wslconfig [Argument] [Options...]`

#### <a name="arguments"></a>Arguments
* **/l, /list [параметры]**
  
  Вывод списка зарегистрированных дистрибутивов.
  
  Параметры:
    * **/all**
    
      Дополнительный вывод списка всех дистрибутивов, включая дистрибутивы, которые сейчас устанавливаются или удаляются.

    * **/running**
      
      Вывод списка всех дистрибутивов, выполняемых в данный момент.

* **/s, /setdefault \<дистрибутив>**
  
  Указание дистрибутива, используемого по умолчанию.

* **/t, /terminate \<дистрибутив>**
  
  Завершение дистрибутива.

* **/u, /unregister \<дистрибутив>**
  
  Отмена регистрации дистрибутива.
   
* **/upgrade \<дистрибутив>**
  
  Обновление дистрибутива до файловой системы WslFs.

### `bash.exe`

Эта команда используется для запуска оболочки Bash. Ниже приведены параметры, которые можно использовать с этой командой.

Использование: `bash [Options...]`

* **Параметр не задан**
  
  Запуск оболочки Bash в текущем каталоге. Если оболочка Bash не установлена, автоматически запускается `lxrun /install`.

* **~**
  
  Команда `bash ~` запускает оболочку Bash в корневом каталоге пользователя.  Это аналог команды `cd ~`.

* **-c "\<команда>"**
  
  Выполнение команды, вывод выходных данных и возврат в командную строку Windows.
    
  Пример: `bash -c "ls"`.

## <a name="deprecated-commands"></a>Нерекомендуемые команды

Команда `lxrun.exe` была первой командой, используемой для установки подсистемы Windows для Linux и управления ею. Она считается нерекомендуемой в Windows 10 версии 1803 и более поздних версиях.

С помощью команды `lxrun.exe` можно взаимодействовать с [подсистемой Windows для Linux (WSL)](https://msdn.microsoft.com/en-us/commandline/wsl/faq#what-windows-subsystem-for-linux-wsl-) напрямую.  Эти команды устанавливаются в каталог `\Windows\System32` и могут выполняться в командной строке Windows или PowerShell.

| Команда                     | Описание                     |
|:----------------------------|:---------------------------|
| `lxrun`                     | Команда lxrun используется для управления экземпляром WSL. |
| `lxrun /install`            | Запускает процесс скачивания и установки. <br/> Можно добавить параметр **/y** для обхода всех запросов.  Запрос на подтверждение будет принят автоматически, а в качестве привилегированного пользователя будет задан пользователь по умолчанию.          |
| `lxrun /uninstall`          | Удаляет дистрибутив и образ Ubuntu.  По умолчанию это не приводит к удалению корневого каталога пользователя Ubuntu. <br/> Можно добавить параметр **/y** для автоматического принятия запроса на подтверждение. <br/>Параметр **/full** позволяет удалить дистрибутив вместе с корневым каталогом пользователя Ubuntu.         |
| `lxrun /setdefaultuser <userName>`     | Задает использование Bash по умолчанию для пользователя Ubuntu. Запрашивает пароль, если указанный пользователь не существует.  Дополнительные сведения: https://aka.ms/wslusers. <br/> Параметр **/y** позволяет обойти запрос пароля.  Пользователь будет создан без пароля.|
| `lxrun /update`            | Обновляет индекс пакетов подсистемы.          |
