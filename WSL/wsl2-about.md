---
title: Общие сведения о WSL 2
description: Общие сведения о новой архитектуре WSL 2 для подсистемы Windows для Linux
keywords: BashOnWindows, bash, wsl, wsl2, windows, подсистема Windows для Linux, windowssubsystem, ubuntu, debian, suse, windows 10, установка
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.localizationpriority: high
ms.openlocfilehash: 70044105820dd485246ae3fc731cbd6f06183f8a
ms.sourcegitcommit: e6e888f2b88a2d9c105cee46e5ab5b70aa43dd80
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/13/2020
ms.locfileid: "83343886"
---
# <a name="about-wsl-2"></a><span data-ttu-id="c32f3-104">Общие сведения о WSL 2</span><span class="sxs-lookup"><span data-stu-id="c32f3-104">About WSL 2</span></span>

<span data-ttu-id="c32f3-105">WSL 2 — это новая версия архитектуры, которая поддерживает подсистему Windows для Linux, чтобы запускать двоичные файлы Linux ELF64 в Windows.</span><span class="sxs-lookup"><span data-stu-id="c32f3-105">WSL 2 is a new version of the architecture that powers the Windows Subsystem for Linux to run ELF64 Linux binaries on Windows.</span></span> <span data-ttu-id="c32f3-106">Ее основными приоритетами является увеличение производительности файловой системы и добавление полной совместимости системных вызовов.</span><span class="sxs-lookup"><span data-stu-id="c32f3-106">Its primary goals are to increase file system performance, as well as adding full system call compatibility.</span></span> <span data-ttu-id="c32f3-107">Эта новая архитектура изменяет способ взаимодействия этих двоичных файлов Linux с Windows и с оборудованием компьютера, но по-прежнему предоставляет то же взаимодействие с пользователем, что и WSL 1 (текущая общедоступная версия).</span><span class="sxs-lookup"><span data-stu-id="c32f3-107">This new architecture changes how these Linux binaries interact with Windows and your computer’s hardware, but still provides the same user experience as in WSL 1 (the current widely available version).</span></span> <span data-ttu-id="c32f3-108">Отдельные дистрибутивы Linux могут быть запущены как дистрибутив WSL 1 или WSL 2, их можно обновить или понизить уровень выпуска в любое время. Вы также можете запускать дистрибутивы WSL 1 и WSL 2 параллельно.</span><span class="sxs-lookup"><span data-stu-id="c32f3-108">Individual Linux distros can be run either as a WSL 1 distro, or as a WSL 2 distro, can be upgraded or downgraded at any time, and you can run WSL 1 and WSL 2 distros side by side.</span></span> <span data-ttu-id="c32f3-109">В WSL 2 используется совершенно новая архитектура, задействованная на реальном ядре Linux.</span><span class="sxs-lookup"><span data-stu-id="c32f3-109">WSL 2 uses an entirely new architecture that uses a real Linux kernel.</span></span>

## <a name="linux-kernel-in-wsl-2"></a><span data-ttu-id="c32f3-110">Ядро Linux в WSL 2</span><span class="sxs-lookup"><span data-stu-id="c32f3-110">Linux kernel in WSL 2</span></span>

<span data-ttu-id="c32f3-111">Ядро Linux в WSL 2 создано собственными силами на основе последней стабильной ветви источника, доступного по адресу kernel.org. Это ядро специально настроено для WSL 2.</span><span class="sxs-lookup"><span data-stu-id="c32f3-111">The Linux kernel in WSL 2 is built in house from the latest stable branch, based on the source available at kernel.org. This kernel has been specially tuned for WSL 2.</span></span> <span data-ttu-id="c32f3-112">Его размер и производительность оптимизированы для обеспечения невероятного взаимодействия Linux с Windows. Оно может обслуживаться через обновления Windows. Это означает, что вы получите последние исправления безопасности и улучшения ядра без вашего участия.</span><span class="sxs-lookup"><span data-stu-id="c32f3-112">It has been optimized for size and performance to give an amazing Linux experience on Windows and will be serviced through Windows updates, which means you will get the latest security fixes and kernel improvements without needing to manage it yourself.</span></span>

<span data-ttu-id="c32f3-113">Кроме того, это ядро будет иметь открытый исходный код.</span><span class="sxs-lookup"><span data-stu-id="c32f3-113">Additionally this kernel will be open source.</span></span> <span data-ttu-id="c32f3-114">Полный исходный код для ядра Linux можно найти [здесь](https://github.com/microsoft/WSL2-Linux-Kernel).</span><span class="sxs-lookup"><span data-stu-id="c32f3-114">You can find the full source code for the Linux kernel [here](https://github.com/microsoft/WSL2-Linux-Kernel).</span></span> <span data-ttu-id="c32f3-115">Если вы хотите узнать больше об этом ядре, вы можете ознакомиться с [этой записью блога](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/), опубликованной командой его создателей.</span><span class="sxs-lookup"><span data-stu-id="c32f3-115">If you’d like to read more about this kernel you can check out [this blog post](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/) written by the team that built it.</span></span>

## <a name="brief-overview-of-the-wsl-2-architecture"></a><span data-ttu-id="c32f3-116">Краткий обзор архитектуры WSL 2</span><span class="sxs-lookup"><span data-stu-id="c32f3-116">Brief overview of the WSL 2 architecture</span></span>

<span data-ttu-id="c32f3-117">WSL 2 использует последнюю и самую новую технологию виртуализации для запуска ядра Linux внутри упрощенной служебной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="c32f3-117">WSL 2 uses the latest and greatest in virtualization technology to run its Linux kernel inside of a lightweight utility virtual machine (VM).</span></span> <span data-ttu-id="c32f3-118">Однако WSL 2 не будет обычным интерфейсом виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="c32f3-118">However, WSL 2 will NOT be a traditional VM experience.</span></span> <span data-ttu-id="c32f3-119">Во время обычной работы виртуальная машина может замедляться при загрузке, изолироваться, потреблять много ресурсов и требовать время для управления.</span><span class="sxs-lookup"><span data-stu-id="c32f3-119">A traditional VM experience can be slow to boot up, is isolated, consumes lots of resources, and requires your time to manage it.</span></span> <span data-ttu-id="c32f3-120">В подсистеме WSL 2 нет таких проблем.</span><span class="sxs-lookup"><span data-stu-id="c32f3-120">WSL 2 does not have these attributes.</span></span> <span data-ttu-id="c32f3-121">Она по-прежнему предоставляет уникальные преимущества WSL 1: высокий уровень интеграции между Windows и Linux, очень высокая скорость загрузки, небольшой объем ресурсов и, что самое важное, не нужно выполнять задачи по настройке виртуальной машины и управлению нею.</span><span class="sxs-lookup"><span data-stu-id="c32f3-121">It will still give the remarkable benefits of WSL 1: High levels of integration between Windows and Linux, extremely fast boot times, small resource footprint, and best of all will require no VM configuration or management.</span></span> <span data-ttu-id="c32f3-122">Хотя WSL 2 использует виртуальную машину, она будет управляться и работать в фоновом режиме, предоставляя тот же пользовательский интерфейс, что и WSL 1.</span><span class="sxs-lookup"><span data-stu-id="c32f3-122">While WSL 2 does use a VM, it will be managed and run behind the scenes leaving you with the same user experience as WSL 1.</span></span>

## <a name="increased-file-io-performance"></a><span data-ttu-id="c32f3-123">Повышенная производительность операций ввода-вывода файлов</span><span class="sxs-lookup"><span data-stu-id="c32f3-123">Increased file IO performance</span></span>

<span data-ttu-id="c32f3-124">Операции с большими объемами файлов, такие как `git clone`, `npm install`, `apt update`, `apt upgrade` и другие, будут выполняться заметно быстрее.</span><span class="sxs-lookup"><span data-stu-id="c32f3-124">File intensive operations like `git clone`, `npm install`, `apt update`, `apt upgrade`, and more will all be noticeably faster.</span></span> <span data-ttu-id="c32f3-125">Фактическое увеличение скорости будет зависеть от того, какое приложение вы используете и как оно взаимодействует с файловой системой.</span><span class="sxs-lookup"><span data-stu-id="c32f3-125">The actual speed increase will depend on which app you’re running and how it is interacting with the file system.</span></span> <span data-ttu-id="c32f3-126">Первоначальные версии WSL 2 запускаются в 20 раз быстрее по сравнению с WSL 1 при распаковке сжатого архива tarball и в 2–5 раз быстрее при использовании `git clone`, `npm install` и `cmake` в различных проектах.</span><span class="sxs-lookup"><span data-stu-id="c32f3-126">Initial versions of WSL 2 run up to 20x faster compared to WSL 1 when unpacking a zipped tarball, and around 2-5x faster when using `git clone`, `npm install` and `cmake` on various projects.</span></span>

## <a name="full-system-call-compatibility"></a><span data-ttu-id="c32f3-127">Полная совместимость системных вызовов</span><span class="sxs-lookup"><span data-stu-id="c32f3-127">Full System Call Compatibility</span></span>

<span data-ttu-id="c32f3-128">Двоичные файлы Linux используют системные вызовы для выполнения многих функций, таких как доступ к файлам, запрос памяти, создание процессов и многое другое.</span><span class="sxs-lookup"><span data-stu-id="c32f3-128">Linux binaries use system calls to perform many functions such as accessing files, requesting memory, creating processes, and more.</span></span> <span data-ttu-id="c32f3-129">В то время как WSL 1 использует уровень перевода, созданный командой WSL, WSL 2 имеет собственное ядро Linux с полной совместимостью системных вызовов.</span><span class="sxs-lookup"><span data-stu-id="c32f3-129">Whereas WSL 1 used a translation layer that was built by the WSL team, WSL 2 includes its own Linux kernel with full system call compatibility.</span></span> <span data-ttu-id="c32f3-130">Это представляет целый ряд новых приложений, которые можно запускать внутри WSL, например Docker и другие.</span><span class="sxs-lookup"><span data-stu-id="c32f3-130">This introduces a whole new set of apps that you can run inside of WSL, such as Docker and more.</span></span> <span data-ttu-id="c32f3-131">Кроме того, любые обновления ядра Linux можно сразу добавить на компьютер, а не ждать, пока команда WSL реализует изменения, а затем добавит их.</span><span class="sxs-lookup"><span data-stu-id="c32f3-131">Additionally, any updates to the Linux kernel can be immediately added to your computer, rather than waiting for the WSL team to implement the changes and then have them added.</span></span>
